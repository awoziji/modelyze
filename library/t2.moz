

include Synchronous

def x : Int

def eq1 = 1 + 2 + pre(x) + 4 = (2 --> x) + 1

def eq2 = 3 + 2 + x 

def count(e : Expr) -> Int = 
    match e with
    | e1 e2 -> count e1 + count e2
    | lift x:Int -> x 
    | _ -> 0

def main = {
    def _ = printLine(int2string (count eq1));
    dprint(eq1)
}